---
# handlers/main.yml â€” openclaw_deploy role
#
# Handlers are triggered by 'notify' directives in tasks and run once
# at the end of the play (or when explicitly flushed).

- name: Restart openclaw gateway
  ansible.builtin.command:
    cmd: docker compose up -d --force-recreate openclaw-gateway
    chdir: "{{ openclaw_install_dir }}"
  become: true
  become_user: "{{ openclaw_user }}"
  listen: "restart openclaw gateway"
  environment:
    PATH: "{{ homebrew_path }}:{{ ansible_env.PATH | default('/usr/bin:/bin:/usr/sbin:/sbin') }}"
